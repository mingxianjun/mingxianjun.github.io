(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{cb1ae02cdc062cba6e94:function(e,n){e.exports='<div class="home-nav">\r\n  <a ui-sref="main" class="my-site">\r\n    <div class="cont">\r\n      <h2 class="title">玄界</h2>\r\n      <span class="btn">show Detail</span>\r\n    </div>\r\n    <span class="border border-t"></span>\r\n    <span class="border border-r"></span>\r\n    <span class="border border-b"></span>\r\n    <span class="border border-l"></span>\r\n    <span class="bg"></span>\r\n  </a>\r\n</div>\r\n<cloud></cloud>\r\n'},cf6b0c2d966d89ea777d:function(e,n,t){"use strict";t.r(n);var i=t("cb1ae02cdc062cba6e94"),r=t.n(i),a="home",o=function(){return{template:r.a}};function s(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var h=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.eleName=n,this.container=document.querySelector(this.eleName),this.camera=new THREE.Camera(30,window.innerWidth/window.innerHeight,1,3e3),this.scene=new THREE.Scene,this.renderer=null,this.mesh=null,this.geometry=new THREE.Geometry,this.material=null,this.mouseX=0,this.mouseY=0,this.startTime=+new Date,this.windowHalfX=window.innerWidth/2,this.windowHalfY=window.innerHeight/2}var n,t,i;return n=e,(t=[{key:"init",value:function(){this.camera.position.z=6e3;var e=THREE.ImageUtils.loadTexture("src/assets/images/cloud.png");e.magFilter=THREE.LinearMipMapLinearFilter,e.minFilter=THREE.LinearMipMapLinearFilter;var n=new THREE.Fog(4555956,-100,3e3);this.material=new THREE.MeshShaderMaterial({uniforms:{map:{type:"t",value:2,texture:e},fogColor:{type:"c",value:n.color},fogNear:{type:"f",value:n.near},fogFar:{type:"f",value:n.far}},vertexShader:"varying vec2 vUv; void main() { vUv = uv; gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 ); }",fragmentShader:l,depthTest:!1});for(var t=new THREE.Mesh(new THREE.Plane(64,64)),i=0;i<8e3;i++)t.position.x=1e3*Math.random()-500,t.position.y=-Math.random()*Math.random()*200-15,t.position.z=i,t.rotation.z=Math.random()*Math.PI,t.scale.x=t.scale.y=Math.random()*Math.random()*1.5+.5,GeometryUtils.merge(this.geometry,t);this.mesh=new THREE.Mesh(this.geometry,this.material),this.scene.addObject(this.mesh),this.mesh=new THREE.Mesh(this.geometry,this.material),this.mesh.position.z=-8e3,this.scene.addObject(this.mesh),this.renderer=new THREE.WebGLRenderer({antialias:!1}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.bindEvent()}},{key:"render",value:function(){var e=.03*((new Date).getTime()-this.startTime)%8e3;this.camera.position.x+=.01*(this.mouseX-this.camera.target.position.x),this.camera.position.y+=.01*(-this.mouseY-this.camera.target.position.y),this.camera.position.z=8e3-e,this.camera.target.position.x=this.camera.position.x,this.camera.target.position.y=this.camera.position.y,this.camera.target.position.z=this.camera.position.z-1e3,this.renderer.render(this.scene,this.camera)}},{key:"bindEvent",value:function(){document.addEventListener("mousemove",this.onDocumentMouseMove.bind(this),!1),window.addEventListener("resize",this.onWindowResize.bind(this),!1)}},{key:"onDocumentMouseMove",value:function(){this.mouseX=.25*(event.clientX-this.windowHalfX),this.mouseY=.15*(event.clientY-this.windowHalfY)}},{key:"onWindowResize",value:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}},{key:"drawBackground",value:function(){var e=document.createElement("canvas");e.width=32,e.height=window.innerHeight;var n=e.getContext("2d"),t=n.createLinearGradient(0,0,0,e.height);t.addColorStop(0,"#1e4877"),t.addColorStop(.5,"#4584b4"),n.fillStyle=t,n.fillRect(0,0,e.width,e.height),this.container.style.background="url("+e.toDataURL("image/png")+")"}}])&&s(n.prototype,t),i&&s(n,i),e}(),d="cloud",c=function(){return{controller:function(){var e=new h("cloud");e.drawBackground(),e.init(),function n(){requestAnimationFrame(n),e.render()}()}}},l="uniform sampler2D map;\n    uniform vec3 fogColor;\n    uniform float fogNear;\n    uniform float fogFar;\n    varying vec2 vUv;\n    void main() {\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n        float fogFactor = smoothstep( fogNear, fogFar, depth );\n        gl_FragColor = texture2D( map, vUv );\n        gl_FragColor.w *= pow( gl_FragCoord.z, 20.0 );\n        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n    }";t.d(n,"HOME_MODULE",function(){return m});var m=angular.module("homeModel",[]);m.component(a,o()),m.component(d,c())}}]);